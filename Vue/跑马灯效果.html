<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<script src="static/vue.min.js"></script>
</head>
	<body>
		
		<div id="app">
			<input type="button" value="点击开启" @click="lang">
			<input type="button" value="点击关闭" @click="nolang">
			<h3 style="color: red">
				{{msg}}
			</h3>
		</div>
	</body>
</html>
<script>
	
	const vm = new Vue({
		el: '#app',
		data: {
			msg: '♥♡♥♡♥♡♥♡♥♡♥♡',
			timerInterval: null,
		},
		methods: {
			lang(){
				HTMLTitleElement = this.msg
				// 这样子书写函数会对让this无法继承
//				setInterval(function(){
//					var start = this.msg.substring(0,1);
//					var end = this.msg.substring(1);
//					this.msg = end + start;
//				}, 500)
				if (this.timerInterval != null){
					return
				}
				
				this.timerInterval = setInterval(()=>{
					var start = this.msg.substring(0,1);
					var end = this.msg.substring(1);
					this.msg = end + start;
				}, 600)
			},
			
			nolang(){
				clearInterval(this.timerInterval)
				this.timerInterval = null
			}
		},
	})
	Vue.config.devtools = true;
</script>
